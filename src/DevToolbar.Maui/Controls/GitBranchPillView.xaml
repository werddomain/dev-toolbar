<?xml version="1.0" encoding="utf-8" ?>
<ContentView 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:vm="clr-namespace:DevToolbar.Maui.ViewModels"
    x:Class="DevToolbar.Maui.Controls.GitBranchPillView"
    x:DataType="vm:ToolbarViewModel"
    Margin="-18,0,0,0"
    ZIndex="10">

    <!--
        Zone 2: Git branch pill.
        Overlaps under project pill (negative left margin).
        Flat left edge, rounded right edge.
        Displays: branch icon + branch name + sync arrows.
    -->
    <Border 
        StrokeShape="RoundRectangle 28,28,28,0"
        HeightRequest="44"
        Background="{DynamicResource GitPillBackground}"
        Padding="28,0,16,0">

        <HorizontalStackLayout Spacing="8" VerticalOptions="Center">
            <!-- Git branch icon -->
            <Label 
                Text="&#xE8D4;" 
                FontFamily="Segoe MDL2 Assets" 
                FontSize="16"
                TextColor="{DynamicResource GitPillTextColor}" 
                VerticalOptions="Center" />

            <!-- Branch name -->
            <Label 
                Text="{Binding BranchName}" 
                FontSize="14"
                TextColor="{DynamicResource GitPillTextColor}"
                VerticalOptions="Center"
                LineBreakMode="TailTruncation" 
                MaximumWidthRequest="120" />

            <!-- Sync arrows -->
            <Label 
                Text="&#xE895;" 
                FontFamily="Segoe MDL2 Assets" 
                FontSize="12"
                TextColor="{DynamicResource GitPillTextColor}" 
                VerticalOptions="Center"
                Opacity="0.7" />
        </HorizontalStackLayout>
    </Border>

</ContentView>
